Supercombinator definitions
Code for I:
   {Take 1,
    Enter Arg 1}


Code for K:
   {Take 2,
    Enter Arg 1}


Code for K1:
   {Take 2,
    Enter Arg 2}


Code for S:
   {Take 3,
    Push Code {Push Arg 3,
               Enter Arg 2},
    Push Arg 3,
    Enter Arg 1}


Code for compose:
   {Take 3,
    Push Code {Push Arg 3,
               Enter Arg 2},
    Enter Arg 1}


Code for twice:
   {Take 1,
    Push Arg 1,
    Push Arg 1,
    Enter Label "compose"}


Code for f:
   {Take 6,
    Push Code {Push Code {Push Code {Push Code {Push IntConst 6,
                                                Enter Label "I"},
                                     Enter Label "I"},
                          Enter Label "I"},
               Enter Label "I"},
    Push Code {Push Code {Push Code {Push IntConst 5,
                                     Enter Label "I"},
                          Enter Label "I"},
               Enter Label "I"},
    Enter Label "K"}


Code for main:
   {Push IntConst 6,
    Push IntConst 5,
    Push IntConst 4,
    Push IntConst 3,
    Push IntConst 2,
    Push IntConst 1,
    Enter Label "f"}



State transitions

   0) Code:  {Enter Label "main"}
      Null frame ptr
      Arg stack: []
      
      
   1) Code:  {Push IntConst 6, Push IntConst 5, Push IntConst 4, ..}
      Null frame ptr
      Arg stack: []
      
      
   2) Code:  {Push IntConst 5, Push IntConst 4, Push IntConst 3, ..}
      Null frame ptr
      Arg stack: [({},FrameInt 6)]
      
      
   3) Code:  {Push IntConst 4, Push IntConst 3, Push IntConst 2, ..}
      Null frame ptr
      Arg stack: [({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   4) Code:  {Push IntConst 3, Push IntConst 2, Push IntConst 1, ..}
      Null frame ptr
      Arg stack: [({},FrameInt 4)
                  ({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   5) Code:  {Push IntConst 2, Push IntConst 1, Enter Label "f"}
      Null frame ptr
      Arg stack: [({},FrameInt 3)
                  ({},FrameInt 4)
                  ({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   6) Code:  {Push IntConst 1, Enter Label "f"}
      Null frame ptr
      Arg stack: [({},FrameInt 2)
                  ({},FrameInt 3)
                  ({},FrameInt 4)
                  ({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   7) Code:  {Enter Label "f"}
      Null frame ptr
      Arg stack: [({},FrameInt 1)
                  ({},FrameInt 2)
                  ({},FrameInt 3)
                  ({},FrameInt 4)
                  ({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   8) Code:  {Take 6, Push Code {..}, Push Code {..}, ..}
      Null frame ptr
      Arg stack: [({},FrameInt 1)
                  ({},FrameInt 2)
                  ({},FrameInt 3)
                  ({},FrameInt 4)
                  ({},FrameInt 5)
                  ({},FrameInt 6)]
      
      
   9) Code:  {Push Code {..}, Push Code {..}, Enter Label "K"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: []
      
      
  10) Code:  {Push Code {..}, Enter Label "K"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push Code {..}, Enter Label "I"},FrameAddr 1)]
      
      
  11) Code:  {Enter Label "K"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push Code {..}, Enter Label "I"},FrameAddr 1)
                  ({Push Code {..}, Enter Label "I"},FrameAddr 1)]
      
      
  12) Code:  {Take 2, Enter Arg 1}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push Code {..}, Enter Label "I"},FrameAddr 1)
                  ({Push Code {..}, Enter Label "I"},FrameAddr 1)]
      
      
  13) Code:  {Enter Arg 1}
      Frame: <({Push Code {..}, Enter Label "I"},FrameAddr 1)
              ({Push Code {..}, Enter Label "I"},FrameAddr 1)>
      Arg stack: []
      
      
  14) Code:  {Push Code {..}, Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: []
      
      
  15) Code:  {Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push Code {..}, Enter Label "I"},FrameAddr 1)]
      
      
  16) Code:  {Take 1, Enter Arg 1}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push Code {..}, Enter Label "I"},FrameAddr 1)]
      
      
  17) Code:  {Enter Arg 1}
      Frame: <({Push Code {..}, Enter Label "I"},FrameAddr 1)>
      Arg stack: []
      
      
  18) Code:  {Push Code {..}, Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: []
      
      
  19) Code:  {Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push IntConst 5, Enter Label "I"},FrameAddr 1)]
      
      
  20) Code:  {Take 1, Enter Arg 1}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({Push IntConst 5, Enter Label "I"},FrameAddr 1)]
      
      
  21) Code:  {Enter Arg 1}
      Frame: <({Push IntConst 5, Enter Label "I"},FrameAddr 1)>
      Arg stack: []
      
      
  22) Code:  {Push IntConst 5, Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: []
      
      
  23) Code:  {Enter Label "I"}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({},FrameInt 5)]
      
      
  24) Code:  {Take 1, Enter Arg 1}
      Frame: <({},FrameInt 1)
              ({},FrameInt 2)
              ({},FrameInt 3)
              ({},FrameInt 4)
              ({},FrameInt 5)
              ({},FrameInt 6)>
      Arg stack: [({},FrameInt 5)]
      
      
  25) Code:  {Enter Arg 1}
      Frame: <({},FrameInt 5)>
      Arg stack: []
      
      
  26) Code:  {}
      Frame ptr (int): 5
      Arg stack: []
      
      


Steps taken = 26
Frames allocated =  5
Total heap allocations = 11
